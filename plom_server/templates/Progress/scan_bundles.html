<!--
    SPDX-License-Identifier: AGPL-3.0-or-later
    Copyright (C) 2023-2024 Andrew Rechnitzer
    Copyright (C) 2024 Aden Chan
-->
{% extends "Progress/scan_base.html" %}
{% block main_card_content %}
    <div class="row">
        <h5>Pushed bundles: {{ number_of_pushed_bundles }}</h5>
        <div class="col">
            <div class="card" style="max-height: 50vh">
                <div class="card-body overflow-auto">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Pages</th>
                                <th scope="col">Uploaded by</th>
                                <th scope="col">Uploaded at</th>
                                <th scope="col">Pushed by</th>
                                <th scope="col">Pushed at</th>
                                <th scope="col">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for bundle in pushed_bundles %}
                                <tr>
                                    <td>{{ bundle.name }}</td>
                                    <td>{{ bundle.pages }}</td>
                                    <td>{{ bundle.who_uploaded }}</td>
                                    <td>{{ bundle.when_uploaded }}</td>
                                    <td>{{ bundle.who_pushed }}</td>
                                    <td>{{ bundle.when_pushed }}</td>
                                    <td>
                                        <div class="hstack gap-2">
                                            <a class="btn btn-primary"
                                               href="{% url 'scan_bundle_thumbnails' 'all' bundle.id %}">View</a>
                                        </div>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock main_card_content %}
